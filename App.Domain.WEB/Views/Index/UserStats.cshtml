@model UserStatsViewModel
@{
    ViewData["Title"] = "UserStats";
    var i = 0;
}

<h1>User Name: @Model.User.Name</h1>
<span>User lives in: @Model.User.Address.ToString()</span>
<br />
<span>User Selling @Model.TotalCountForContract amounting to @Model.TotalCostForContract</span>
<br />
<span>User Buying @Model.TotalCountForOrder amounting to @Model.TotalСostForOrder</span>
<br />

<span>User Agreements:</span>
<table id="table" class="text-center table table-striped">
    <thead class="thead-light">
    <th scope="col">#</th>
    <th scope="col">Item</th>
    <th scope="col">Item Categories</th>
    <th scope="col">Item Count</th>
    <th scope="col">Cost</th>
    <th scope="col">Buying User</th>
    <th scope="col">Selling User</th>
    </thead>

    <tbody>
        @foreach (var agreement in Model.Agreements)
        {
            i++;
            <tr>
                <td>@i</td>
                <td>@String.Join(", ", agreement.Categories.Select(i => i.Name).ToArray())</td>
                <td>@agreement.Cost</td>
                <td>@(agreement.CustomerUser?.Name + " (" + agreement.CustomerUser?.UserType.ToString() + ")")</td>
                <td>@(agreement.ContractorUser?.Name + " (" + agreement.ContractorUser?.UserType.ToString() + ")")</td>
            </tr>
        }
    </tbody>
</table>

<button type="button" class="btn btn-primary float-right" onClick="history.go(-1); return false;">
    Return
</button>


